### XSS атака
***
XSS (межсайтовый скриптинг) – одна из разновидностей атак на веб-системы,
которая подразумевает внедрение вредоносного кода на определенную
страницу сайта и взаимодействие этого кода с удаленным сервером
злоумышленников при открытии страницы пользователем.

Термин с английского расшифровывается как Cross-Site Scripting, но при
этом получил аббревиатуру XSS, чтобы не было путаницы с
CSS (каскадные таблицы стилей).

Как работает межсайтовый скриптинг.\
Основная цель межсайтового скриптинга – кража cookies пользователей
при помощи встроенного на сервере скрипта с дальнейшей выборкой
необходимых данных и использованием их для последующих атак и взломов.
Злоумышленник осуществляет атаку пользователей не напрямую,
а с использованием уязвимостей веб-сайта, который посещают жертвы,
и внедряет специальный JavaScript. В браузере у пользователей этот
код отображается как единая часть сайта. При этом посещаемый ресурс
по факту является соучастником XSS-атаки.

Если сравнивать с SQL-инъекциями, то XSS безопасен для сервера, но
несет угрозу для пользователей зараженного ресурса или страницы.
Однако, если к злоумышленнику попадут cookies администратора,
можно получить доступ к панели управления сайтом и его содержимому.

Методика атаки через XSS.\
Запуск вредоносного кода JavaScript возможен только в браузере жертвы,
поэтому сайт, на который зайдет пользователь, должен иметь уязвимость
к XSS. Для совершения атаки злоумышленник изначально проверяет ресурсы
на наличие уязвимостей через XSS, используя автоматизированные скрипты
или ручной режим поиска. Обычно это стандартные формы, которые могут
отправлять и принимать запросы (комментарии, поиск, обратная связь).

Проводится полный сбор страниц с формами ввода, и каждая сканируется
на наличие уязвимостей. Например, у нас есть страница «Поиск» на сайте.
Для проверки уязвимости XSS достаточно ввести запрос:
```
<script>alert("cookie: "+document.cookie)</script>
```
Если на экране появится уведомление, значит вы обнаружили брешь в
безопасности. В противном случае система отобразит вам страницу с
результатами поиска. Основные популярные CMS уже давно лишились подобных
проблем, но из-за возможности расширения функционала за счет модулей и
плагинов, создаваемых сторонними разработчиками, шансы на использование
уязвимостей XSS возрастают в разы, особенно в Joomla, Bitrix, Wordpress.

Еще один возможный вариант поиска – использование страниц, которые
обрабатывают GET-запросы. Допустим, у нас есть ссылка вида:
http://site.ru/catalog?p=8
В адресной строке вместо идентификатора (8) добавляем скрипт -
```
"><script>alert("cookie: "+document.cookie)</script>
```
в результате чего получаем ссылку такого вида:
```
http://site.ru/catalog?p="><script>alert("cookie: "+document.cookie)</script>
```
